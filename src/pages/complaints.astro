---
import BaseLayout from '@layouts/BaseLayout.astro';
import Button from '@components/Button.astro';

const pageTitle = 'Submit a Complaint | Marshall Freeman';
const pageDescription = 'Submit a complaint about our debt collection services. We are committed to treating all individuals with professionalism and respect.';
---

<BaseLayout title={pageTitle} description={pageDescription} hideNav={true}>
  <section class="complaints">
    <div class="complaints__container container">
      <div class="complaints__layout">
        <!-- Left Column: Header -->
        <header class="complaints__header">
          <p class="complaints__tagline">Complaints</p>
          <h1 class="complaints__headline">Submit a Complaint</h1>
          <p class="complaints__intro">
            We are committed to treating all individuals with professionalism, respect, and in accordance with all applicable laws and regulatory guidelines.
          </p>
          <p class="complaints__intro">
            If you believe that our conduct has been unprofessional or may have breached your statutory rights under consumer protection or debt collection laws, we encourage you to let us know.
          </p>
          <div class="complaints__note">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
            </svg>
            <span>All complaints are handled confidentially and in accordance with our internal complaint handling policy.</span>
          </div>
        </header>

        <!-- Right Column: Form -->
        <form class="complaints__form" action="#" method="POST" aria-label="Complaint form">
          <!-- Your Details -->
          <div class="complaints__card">
            <h2 class="complaints__card-title">Your Details</h2>

            <div class="complaints__grid">
              <div class="complaints__field complaints__field--full">
                <label for="fullName" class="complaints__label">Full Name</label>
                <input
                  type="text"
                  id="fullName"
                  name="fullName"
                  class="complaints__input"
                  required
                  autocomplete="name"
                />
              </div>

              <div class="complaints__field">
                <label for="email" class="complaints__label">Email Address</label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  class="complaints__input"
                  required
                  autocomplete="email"
                />
              </div>

              <div class="complaints__field">
                <label for="phone" class="complaints__label">Phone Number</label>
                <input
                  type="tel"
                  id="phone"
                  name="phone"
                  class="complaints__input"
                  required
                  autocomplete="tel"
                />
              </div>

              <div class="complaints__field">
                <label for="referenceNumber" class="complaints__label">Reference Number</label>
                <input
                  type="text"
                  id="referenceNumber"
                  name="referenceNumber"
                  class="complaints__input"
                  required
                />
              </div>

              <div class="complaints__field">
                <label class="complaints__label">Preferred Contact</label>
                <div class="complaints__toggle-group">
                  <label class="complaints__toggle">
                    <input type="radio" name="contactMethod" value="email" class="complaints__toggle-input" checked required />
                    <span class="complaints__toggle-label">Email</span>
                  </label>
                  <label class="complaints__toggle">
                    <input type="radio" name="contactMethod" value="phone" class="complaints__toggle-input" />
                    <span class="complaints__toggle-label">Phone</span>
                  </label>
                </div>
              </div>

              <div class="complaints__field complaints__field--full">
                <label class="complaints__label">Are you the account holder?</label>
                <div class="complaints__toggle-group complaints__toggle-group--wide">
                  <label class="complaints__toggle">
                    <input type="radio" name="accountHolder" value="yes" class="complaints__toggle-input" required />
                    <span class="complaints__toggle-label">Yes</span>
                  </label>
                  <label class="complaints__toggle">
                    <input type="radio" name="accountHolder" value="no" class="complaints__toggle-input" />
                    <span class="complaints__toggle-label">No</span>
                  </label>
                  <label class="complaints__toggle">
                    <input type="radio" name="accountHolder" value="representative" class="complaints__toggle-input" />
                    <span class="complaints__toggle-label">Authorised Representative</span>
                  </label>
                </div>
              </div>
            </div>
          </div>

          <!-- Complaint Details -->
          <div class="complaints__card">
            <h2 class="complaints__card-title">Complaint Details</h2>

            <div class="complaints__grid">
              <div class="complaints__field">
                <label for="incidentDate" class="complaints__label">Date of Incident</label>
                <input
                  type="date"
                  id="incidentDate"
                  name="incidentDate"
                  class="complaints__input"
                />
              </div>

              <div class="complaints__field">
                <label for="staffMember" class="complaints__label">Staff Member (if known)</label>
                <input
                  type="text"
                  id="staffMember"
                  name="staffMember"
                  class="complaints__input"
                />
              </div>

              <div class="complaints__field complaints__field--full">
                <label for="complaintDetails" class="complaints__label">Describe your concern</label>
                <textarea
                  id="complaintDetails"
                  name="complaintDetails"
                  class="complaints__textarea"
                  placeholder="Please include what happened, when it happened, and any relevant context."
                  rows="4"
                  required
                ></textarea>
              </div>

              <div class="complaints__field complaints__field--full">
                <label for="desiredOutcome" class="complaints__label">Desired outcome</label>
                <textarea
                  id="desiredOutcome"
                  name="desiredOutcome"
                  class="complaints__textarea"
                  placeholder="e.g., apology, explanation, policy review, etc."
                  rows="3"
                  required
                ></textarea>
              </div>
            </div>
          </div>

          <!-- Declaration & Submit -->
          <div class="complaints__footer">
            <label class="complaints__checkbox-label">
              <input type="checkbox" name="declaration" class="complaints__checkbox" required />
              <span class="complaints__checkbox-box">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
              </span>
              <span class="complaints__checkbox-text">
                I declare that the information I have provided is true and accurate to the best of my knowledge.
              </span>
            </label>

            <div class="complaints__actions">
              <Button label="Submit Complaint" type="submit" variant="secondary" />
              <p class="complaints__disclaimer">
                Your complaint will be reviewed within 5 business days.
              </p>
            </div>
          </div>
        </form>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .complaints {
    padding-block: clamp(120px, 15vw, 160px) var(--space-section);
    min-height: 100vh;
  }

  .complaints__container {
    display: flex;
    flex-direction: column;
  }

  .complaints__layout {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-3xl);
  }

  @media (min-width: 1024px) {
    .complaints__layout {
      grid-template-columns: 1fr 1.5fr;
      gap: var(--space-4xl);
      align-items: start;
    }
  }

  /* Header */
  .complaints__header {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
  }

  @media (min-width: 1024px) {
    .complaints__header {
      position: sticky;
      top: 120px;
    }
  }

  .complaints__tagline {
    display: inline-flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: var(--text-xs);
    font-weight: var(--font-weight-medium);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-text-muted);
  }

  .complaints__tagline::before {
    content: '';
    width: 16px;
    height: 16px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
  }

  .complaints__headline {
    font-size: var(--text-4xl);
    font-weight: var(--font-weight-medium);
    letter-spacing: -0.03em;
    line-height: 1.1;
  }

  @media (min-width: 1024px) {
    .complaints__headline {
      font-size: var(--text-5xl);
    }
  }

  .complaints__intro {
    font-size: var(--text-base);
    color: var(--color-text-muted);
    line-height: 1.7;
  }

  .complaints__note {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    font-size: var(--text-sm);
    color: var(--color-text-subtle);
    padding: var(--space-md);
    background: var(--color-foreground);
    border-radius: var(--radius-sm);
  }

  .complaints__note svg {
    flex-shrink: 0;
    color: var(--color-text-muted);
    margin-top: 2px;
  }

  /* Form */
  .complaints__form {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
  }

  /* Cards */
  .complaints__card {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
    padding: var(--space-xl);
    background: var(--color-foreground);
    border-radius: var(--radius-md);
  }

  .complaints__card-title {
    font-size: var(--text-lg);
    font-weight: var(--font-weight-medium);
    color: var(--color-text);
    padding-bottom: var(--space-md);
    border-bottom: 1px solid var(--color-border);
  }

  /* Grid */
  .complaints__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-lg);
  }

  @media (min-width: 640px) {
    .complaints__grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .complaints__field--full {
    grid-column: 1 / -1;
  }

  /* Fields */
  .complaints__field {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
  }

  .complaints__label {
    font-size: var(--text-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-text);
  }

  .complaints__input,
  .complaints__textarea {
    background: var(--color-background);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-sm);
    padding: var(--space-sm) var(--space-md);
    font-size: var(--text-base);
    color: var(--color-text);
    transition: border-color var(--duration-fast) var(--ease-out-expo), box-shadow var(--duration-fast) var(--ease-out-expo);
    font-family: inherit;
  }

  .complaints__input::placeholder,
  .complaints__textarea::placeholder {
    color: var(--color-text-subtle);
  }

  .complaints__input:hover,
  .complaints__textarea:hover {
    border-color: var(--color-text-muted);
  }

  .complaints__input:focus,
  .complaints__textarea:focus {
    outline: none;
    border-color: var(--color-text);
    box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.05);
  }

  .complaints__textarea {
    resize: vertical;
    min-height: 100px;
  }

  /* Toggle Groups */
  .complaints__toggle-group {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
  }

  .complaints__toggle-group--wide {
    gap: var(--space-sm);
  }

  .complaints__toggle {
    cursor: pointer;
  }

  .complaints__toggle-input {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
  }

  .complaints__toggle-label {
    display: inline-flex;
    align-items: center;
    padding: var(--space-xs) var(--space-md);
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    background: var(--color-background);
    border: 1px solid var(--color-border);
    border-radius: 100px;
    transition: all var(--duration-fast) var(--ease-out-expo);
  }

  .complaints__toggle-input:checked + .complaints__toggle-label {
    color: var(--color-background);
    background: var(--color-text);
    border-color: var(--color-text);
  }

  .complaints__toggle-input:focus-visible + .complaints__toggle-label {
    outline: 2px solid var(--color-text);
    outline-offset: 2px;
  }

  /* Footer */
  .complaints__footer {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
    padding-top: var(--space-lg);
  }

  /* Checkbox */
  .complaints__checkbox-label {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    cursor: pointer;
  }

  .complaints__checkbox {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
  }

  .complaints__checkbox-box {
    flex-shrink: 0;
    width: 22px;
    height: 22px;
    border: 2px solid var(--color-border);
    border-radius: var(--radius-xs);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--duration-fast) var(--ease-out-expo);
    color: transparent;
    margin-top: 1px;
  }

  .complaints__checkbox:checked + .complaints__checkbox-box {
    background: var(--color-text);
    border-color: var(--color-text);
    color: var(--color-background);
  }

  .complaints__checkbox:focus-visible + .complaints__checkbox-box {
    outline: 2px solid var(--color-text);
    outline-offset: 2px;
  }

  .complaints__checkbox-text {
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    line-height: 1.5;
  }

  /* Actions */
  .complaints__actions {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
    align-items: flex-start;
  }

  @media (min-width: 640px) {
    .complaints__actions {
      flex-direction: row;
      align-items: center;
    }
  }

  .complaints__disclaimer {
    font-size: var(--text-sm);
    color: var(--color-text-muted);
  }
</style>
